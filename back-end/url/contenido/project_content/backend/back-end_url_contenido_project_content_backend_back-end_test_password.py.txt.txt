# ARCHIVO: back-end/url/contenido/project_content/backend/back-end_test_password.py.txt
# URL: https://raw.githubusercontent.com/sTr4yDev/speakLexi/main/back-end/url/contenido/project_content/backend/back-end_test_password.py.txt
# FECHA DESCARGA: 2025-10-29 18:40:28
# ==================================================

# ARCHIVO: back-end/test_password.py
# URL: https://raw.githubusercontent.com/sTr4yDev/speakLexi/main/back-end/test_password.py
# FECHA DESCARGA: 2025-10-28 22:54:29
# ==================================================

# back-end/test_password.py
from app import create_app
from models.usuario import Usuario

def test_login(correo, password):
    app = create_app()
    
    with app.app_context():
        usuario = Usuario.query.filter_by(correo=correo).first()
        
        if not usuario:
            print(f"‚ùå Usuario con correo {correo} NO existe")
            return
        
        print(f"‚úÖ Usuario encontrado:")
        print(f"   - ID: {usuario.id}")
        print(f"   - Nombre: {usuario.nombre}")
        print(f"   - Correo: {usuario.correo}")
        print(f"   - Rol: {usuario.rol}")
        print(f"   - Verificado: {usuario.correo_verificado}")
        print(f"   - Hash almacenado: {usuario.contrasena_hash[:50]}...")
        
        print(f"\nüîê Probando contrase√±a...")
        if usuario.check_password(password):
            print("‚úÖ ¬°Contrase√±a CORRECTA!")
        else:
            print("‚ùå Contrase√±a INCORRECTA")
            print("\nIntenta registrarte de nuevo o usar recuperaci√≥n de contrase√±a")

if __name__ == "__main__":
    # Cambia estos valores por los tuyos
    correo = input("Correo: ")
    password = input("Contrase√±a: ")
    test_login(correo, password)